(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[240],{4539:function(e,s,r){Promise.resolve().then(r.bind(r,835))},835:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return o}});var l=r(7437),t=r(2265),a=r(9376),n=r(7648);function o(){let[e,s]=(0,t.useState)([]),[r,o]=(0,t.useState)(null),[d,i]=(0,t.useState)(""),c=(0,a.useRouter)();(0,t.useEffect)(()=>{s([{id:1,name:"John Doe",email:"john@example.com",role:"user"},{id:2,name:"Jane Smith",email:"jane@example.com",role:"manager"},{id:3,name:"Bob Johnson",email:"bob@example.com",role:"admin"}]);let e=localStorage.getItem("currentUser");e?o(JSON.parse(e)):c.push("/")},[c]);let u=r=>{s(e.filter(e=>e.id!==r))},m=e=>{alert("Edit user with id ".concat(e))};return r?(0,l.jsx)("div",{className:"min-h-screen bg-gray-100 p-8",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"User List"}),(0,l.jsx)(n.default,{href:"/users/new",className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600",children:"Add New User"})]}),"manager"===r.role&&(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),alert("Suggestion submitted: ".concat(d)),i("")},className:"mb-4",children:[(0,l.jsx)("input",{type:"text",value:d,onChange:e=>i(e.target.value),placeholder:"Enter your suggestion",className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),(0,l.jsx)("button",{type:"submit",className:"ml-2 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Submit Suggestion"})]}),(0,l.jsxs)("table",{className:"w-full bg-white shadow-md rounded-lg overflow-hidden",children:[(0,l.jsx)("thead",{className:"bg-gray-200",children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{className:"px-4 py-2",children:"Name"}),(0,l.jsx)("th",{className:"px-4 py-2",children:"Email"}),(0,l.jsx)("th",{className:"px-4 py-2",children:"Role"}),(0,l.jsx)("th",{className:"px-4 py-2",children:"Actions"})]})}),(0,l.jsx)("tbody",{children:e.map(e=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:"border px-4 py-2",children:e.name}),(0,l.jsx)("td",{className:"border px-4 py-2",children:e.email}),(0,l.jsx)("td",{className:"border px-4 py-2",children:e.role}),(0,l.jsxs)("td",{className:"border px-4 py-2",children:[(0,l.jsx)("button",{onClick:()=>m(e.id),disabled:"user"===r.role,className:"mr-2 px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 ".concat("user"===r.role?"opacity-50 cursor-not-allowed":""),children:"Edit"}),(0,l.jsx)("button",{onClick:()=>u(e.id),disabled:"user"===r.role,className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 ".concat("user"===r.role?"opacity-50 cursor-not-allowed":""),children:"Delete"})]})]},e.id))})]})]})}):null}}},function(e){e.O(0,[448,971,117,744],function(){return e(e.s=4539)}),_N_E=e.O()}]);